(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[15],{b41f:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.settings?s("q-page",[s("transition",{attrs:{appear:"","appear-active-class":"animated bounceInDown"}},[s("div",{staticClass:"container"},[s("div",{staticClass:"row q-col-gutter-md"},[s("div",{staticClass:"col-auto"},[s("q-btn",{attrs:{round:"",color:"primary",icon:"mdi-chevron-left"},on:{click:function(e){t.$sound.tap(),t.goBack()}}})],1),s("div",{staticClass:"col-12"},[s("div",{staticClass:"q-gutter-xs"},[s("q-btn",{staticClass:"full-width",attrs:{color:"primary","no-caps":"",label:t.$t("btns.LABEL_CLEAR")},on:{click:function(e){t.$sound.tap(),t.clear()}}}),s("div",{staticClass:"text-caption text-grey"},[t._v("\n              "+t._s(t.$t("btns.HINT_CLEAR"))+"\n            ")])],1)]),s("div",{staticClass:"col-12"},[s("q-card",[s("q-tabs",{attrs:{"active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[s("q-tab",{attrs:{name:"live",label:t.$t("settings.live.title")}}),s("q-tab",{attrs:{name:"effect",label:t.$t("settings.effect.title")}}),s("q-tab",{attrs:{name:"others",label:t.$t("settings.others.title")}})],1),s("q-tab-panels",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[s("q-tab-panel",{attrs:{name:"live"}},[s("div",{staticClass:"row q-col-gutter-md items-center"},[s("div",{staticClass:"col-xs-12 col-sm-6 col-md-4"},[s("number-stepper",{attrs:{label:t.$t("settings.live.speed"),minValue:1,maxValue:11,smallStep:.1,bigStep:.5,cycle:!0},model:{value:t.settings.gameConfig.speed,callback:function(e){t.$set(t.settings.gameConfig,"speed",e)},expression:"settings.gameConfig.speed"}})],1),s("div",{staticClass:"col-xs-12 col-sm-6 col-md-4"},[s("number-stepper",{attrs:{label:t.$t("settings.live.noteScale"),displayValue:Math.round(100*t.settings.gameConfig.noteScale)+"%",minValue:.1,maxValue:2,smallStep:.1,type:"small",cycle:!0},model:{value:t.settings.gameConfig.noteScale,callback:function(e){t.$set(t.settings.gameConfig,"noteScale",e)},expression:"settings.gameConfig.noteScale"}})],1),s("div",{staticClass:"col-xs-12 col-sm-6 col-md-4"},[s("number-stepper",{attrs:{label:t.$t("settings.live.judgeOffset"),minValue:-480,maxValue:480,smallStep:1,bigStep:5,type:"smallBig",cycle:!0},model:{value:t.settings.gameConfig.judgeOffset,callback:function(e){t.$set(t.settings.gameConfig,"judgeOffset",e)},expression:"settings.gameConfig.judgeOffset"}})],1),s("div",{staticClass:"col-xs-12 col-sm-6 col-md-4"},[s("number-stepper",{attrs:{label:t.$t("settings.live.visualOffset"),minValue:-480,maxValue:480,smallStep:1,bigStep:5,type:"smallBig",cycle:!0},model:{value:t.settings.gameConfig.visualOffset,callback:function(e){t.$set(t.settings.gameConfig,"visualOffset",e)},expression:"settings.gameConfig.visualOffset"}})],1),s("div",{staticClass:"col-xs-12 col-sm-6 col-md-4"},[s("number-stepper",{attrs:{label:t.$t("settings.live.barOpacity"),displayValue:Math.round(100*t.settings.gameConfig.barOpacity)+"%",minValue:.1,maxValue:1,smallStep:.1,type:"small",cycle:!0},model:{value:t.settings.gameConfig.barOpacity,callback:function(e){t.$set(t.settings.gameConfig,"barOpacity",e)},expression:"settings.gameConfig.barOpacity"}})],1),s("div",{staticClass:"col-xs-12 col-sm-6 col-md-4"},[s("number-stepper",{attrs:{label:t.$t("settings.live.backgroundDim"),displayValue:Math.round(100*t.settings.gameConfig.backgroundDim)+"%",minValue:.1,maxValue:1,smallStep:.1,type:"small",cycle:!0},model:{value:t.settings.gameConfig.backgroundDim,callback:function(e){t.$set(t.settings.gameConfig,"backgroundDim",e)},expression:"settings.gameConfig.backgroundDim"}})],1),s("div",{staticClass:"col-xs-12 col-sm-3"},[s("q-toggle",{attrs:{label:t.$t("settings.live.showSimLine")},model:{value:t.settings.gameConfig.showSimLine,callback:function(e){t.$set(t.settings.gameConfig,"showSimLine",e)},expression:"settings.gameConfig.showSimLine"}})],1),s("div",{staticClass:"col-xs-12 col-sm-3"},[s("q-toggle",{attrs:{label:t.$t("settings.live.beatNote")},model:{value:t.settings.gameConfig.beatNote,callback:function(e){t.$set(t.settings.gameConfig,"beatNote",e)},expression:"settings.gameConfig.beatNote"}})],1),s("div",{staticClass:"col-xs-12 col-sm-3"},[s("q-toggle",{attrs:{label:t.$t("settings.live.mirror")},model:{value:t.settings.gameConfig.mirror,callback:function(e){t.$set(t.settings.gameConfig,"mirror",e)},expression:"settings.gameConfig.mirror"}})],1),s("div",{staticClass:"col-xs-12 col-sm-3"},[s("q-toggle",{attrs:{label:t.$t("settings.live.laneEffect")},model:{value:t.settings.gameConfig.laneEffect,callback:function(e){t.$set(t.settings.gameConfig,"laneEffect",e)},expression:"settings.gameConfig.laneEffect"}})],1),s("div",{staticClass:"col-xs-12 col-sm-3"},[s("q-toggle",{attrs:{label:t.$t("settings.live.autoFullscreen")},model:{value:t.settings.autoFullscreen,callback:function(e){t.$set(t.settings,"autoFullscreen",e)},expression:"settings.autoFullscreen"}})],1),s("div",{staticClass:"col-xs-12 col-sm-3"},[s("q-toggle",{attrs:{label:t.$t("settings.live.upperHidden")},model:{value:t.settings.upperHidden,callback:function(e){t.$set(t.settings,"upperHidden",e)},expression:"settings.upperHidden"}})],1),s("div",{directives:[{name:"show",rawName:"v-show",value:t.settings.upperHidden,expression:"settings.upperHidden"}],staticClass:"col-12"},[s("image-selector",{attrs:{title:t.$t("settings.live.upperHidden"),label:t.$t("btns.LABEL_SELECT_A_IMAGE"),reset:t.$t("btns.LABEL_RESET_IMAGE")},model:{value:t.settings.upperHiddenImg,callback:function(e){t.$set(t.settings,"upperHiddenImg",e)},expression:"settings.upperHiddenImg"}})],1)])]),s("q-tab-panel",{attrs:{name:"effect"}},[s("div",{staticClass:"row q-col-gutter-md items-center"},[s("div",{staticClass:"col-12"},[s("div",{staticClass:"row q-col-gutter-sm"},[s("div",{staticClass:"col-12"},[t._v(t._s(t.$t("settings.live.resolution")))]),s("div",{staticClass:"col-12"},[s("q-slider",{attrs:{min:.4,max:4,step:.05,label:""},model:{value:t.settings.gameConfig.resolution,callback:function(e){t.$set(t.settings.gameConfig,"resolution",e)},expression:"settings.gameConfig.resolution"}})],1)])]),s("div",{staticClass:"col-xs-12 col-sm-6"},[s("q-select",{attrs:{options:t.skinList,label:t.$t("settings.effect.skin"),"emit-value":"","map-options":""},model:{value:t.settings.skin,callback:function(e){t.$set(t.settings,"skin",e)},expression:"settings.skin"}})],1),s("div",{staticClass:"col-xs-12 col-sm-6"},[s("q-select",{attrs:{options:t.backgroundList,label:t.$t("settings.effect.bg"),"emit-value":"","map-options":""},model:{value:t.settings.bg,callback:function(e){t.$set(t.settings,"bg",e)},expression:"settings.bg"}})],1),s("div",{directives:[{name:"show",rawName:"v-show",value:"custom"===t.settings.bg,expression:"settings.bg === 'custom'"}],staticClass:"col-12"},[s("image-selector",{attrs:{title:t.$t("settings.effect.bg"),label:t.$t("btns.LABEL_SELECT_A_IMAGE"),reset:t.$t("btns.LABEL_RESET_IMAGE")},model:{value:t.settings.customBg,callback:function(e){t.$set(t.settings,"customBg",e)},expression:"settings.customBg"}})],1),s("div",{staticClass:"col-xs-12 col-sm-6"},[s("q-select",{attrs:{options:t.soundList,label:t.$t("settings.effect.sound"),"emit-value":"","map-options":""},model:{value:t.settings.sound,callback:function(e){t.$set(t.settings,"sound",e)},expression:"settings.sound"}})],1),s("div",{staticClass:"col-xs-6 col-sm-3"},[s("q-btn",{staticClass:"full-width",attrs:{icon:"play_arrow",label:t.$t("settings.effect.perfect"),"no-caps":""},on:{click:function(e){t.$sound.perfect(t.$settings.getSoundName())}}})],1),s("div",{staticClass:"col-xs-6 col-sm-3"},[s("q-btn",{staticClass:"full-width",attrs:{icon:"play_arrow",label:t.$t("settings.effect.flick"),"no-caps":""},on:{click:function(e){t.$sound.flick(t.$settings.getSoundName())}}})],1),s("div",{staticClass:"col-12"},[s("div",{staticClass:"row q-col-gutter-sm"},[s("div",{staticClass:"col-12"},[t._v(t._s(t.$t("settings.effect.effectVolume")))]),s("div",{staticClass:"col-12"},[s("q-slider",{attrs:{min:0,max:1,step:.01,label:"","label-value":Math.floor(100*t.settings.gameConfig.effectVolume)+"%"},model:{value:t.settings.gameConfig.effectVolume,callback:function(e){t.$set(t.settings.gameConfig,"effectVolume",e)},expression:"settings.gameConfig.effectVolume"}})],1)])])])]),s("q-tab-panel",{attrs:{name:"others"}},[s("div",{staticClass:"row q-col-gutter-md items-center"},[s("div",{staticClass:"col-12"},[s("div",{staticClass:"row q-col-gutter-sm"},[s("div",{staticClass:"col-12"},[t._v(t._s(t.$t("settings.others.bgm")))]),s("div",{staticClass:"col-12"},[t._v("\n                        "+t._s(t.$lang.getInLang(t.$i18n.locale,t.settings.bgm.artist)+" - "+t.$lang.getInLang(t.$i18n.locale,t.settings.bgm.title))+"\n                      ")]),s("div",{staticClass:"col-12"},[s("q-btn",{staticClass:"full-width",attrs:{color:"primary",dense:"","no-caps":"",label:t.$t("settings.others.resetBgm")},on:{click:t.onResetBgm}})],1)])]),s("div",{staticClass:"col-xs-12 col-sm-6"},[s("q-select",{attrs:{options:t.languageList,label:t.$t("settings.others.language"),"emit-value":"","map-options":""},model:{value:t.settings.language,callback:function(e){t.$set(t.settings,"language",e)},expression:"settings.language"}})],1),s("div",{staticClass:"col-xs-12 col-sm-6"},[s("q-select",{attrs:{options:t.proxyList,label:t.$t("settings.others.proxy"),"emit-value":"","map-options":""},model:{value:t.settings.proxy,callback:function(e){t.$set(t.settings,"proxy",e)},expression:"settings.proxy"}})],1)])])],1)],1)],1)])])])],1):t._e()},i=[],l=(s("e6cf"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row q-col-gutter-sm"},[t.label?s("div",{staticClass:"col-12"},[t._v(t._s(t.label))]):t._e(),s("div",{staticClass:"col-12"},[s("q-btn-group",{staticClass:"full-width",attrs:{rounded:""}},[t.type.toLowerCase().includes("big")?s("q-btn",{staticStyle:{width:"36px"},attrs:{icon:"mdi-chevron-double-left"},on:{click:function(e){return t.changeValue("minus",t.bigStep)}}}):t._e(),t.type.toLowerCase().includes("small")?s("q-btn",{staticStyle:{width:"36px"},attrs:{icon:"mdi-chevron-left"},on:{click:function(e){return t.changeValue("minus",t.smallStep)}}}):t._e(),s("q-btn",{staticStyle:{width:"100%"},attrs:{label:t.displayValue?t.displayValue:t.modelValue}}),t.type.toLowerCase().includes("small")?s("q-btn",{staticStyle:{width:"36px"},attrs:{icon:"mdi-chevron-right"},on:{click:function(e){return t.changeValue("plus",t.smallStep)}}}):t._e(),t.type.toLowerCase().includes("big")?s("q-btn",{staticStyle:{width:"36px"},attrs:{icon:"mdi-chevron-double-right"},on:{click:function(e){return t.changeValue("plus",t.bigStep)}}}):t._e()],1)],1)])}),n=[],o={name:"NumberStepper",props:{value:{type:Number},label:{type:String},minValue:{type:Number,default:0},maxValue:{type:Number,default:10},smallStep:{type:Number,default:.1},bigStep:{type:Number,default:1},cycle:{type:Boolean,default:!1},type:{type:String,default:"smallBig"},displayValue:{}},model:{prop:"value",event:"updateValue"},data:function(){return{modelValue:0}},watch:{value(t){this.modelValue=t},modelValue(t){this.$emit("updateValue",t)}},methods:{changeValue(t,e){this.$sound.tap();let s=this.modelValue;"plus"===t.toLowerCase()?(s+=e,s>this.maxValue&&(s=this.cycle?this.minValue:this.maxValue)):"minus"===t.toLowerCase()&&(s-=e,s<this.minValue&&(s=this.cycle?this.maxValue:this.minValue)),this.modelValue=Math.round(100*s)/100}},mounted(){this.modelValue=this.value}},c=o,r=s("2877"),g=s("e7a9"),u=s("9c40"),m=s("eebe"),d=s.n(m),p=Object(r["a"])(c,l,n,!1,null,"6ec86916",null),b=p.exports;d()(p,"components",{QBtnGroup:g["a"],QBtn:u["a"]});var f=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"q-pa-sm",staticStyle:{border:"3px dashed grey","border-radius":"5px"}},[s("div",{staticClass:"row q-col-gutter-sm"},[s("div",{staticClass:"col-xs-12 text-h6"},[t._v(t._s(t.title))]),s("div",{staticClass:"col-xs-12"},[s("q-img",{attrs:{src:t.src}})],1),s("div",{staticClass:"col-xs-12"},[s("q-btn",{staticClass:"full-width",attrs:{color:"primary","no-caps":"",disable:""===t.src,label:t.reset},on:{click:function(e){t.imgSrc="",t.onChangeEvent()}}})],1),s("div",{staticClass:"col-xs-12"},[s("q-tabs",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[s("q-tab",{attrs:{icon:"mdi-file",name:"base64"}}),s("q-tab",{attrs:{icon:"mdi-network",name:"url"}})],1),s("q-tab-panels",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[s("q-tab-panel",{attrs:{name:"base64"}},[s("q-btn",{staticClass:"full-width",attrs:{"no-caps":"",label:t.label},on:{click:t.changeFile}}),s("input",{ref:"fileInput",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*"},on:{change:t.onFileChangeEvent}})],1),s("q-tab-panel",{attrs:{name:"url"}},[s("q-input",{on:{input:function(e){return t.onChangeEvent()}},model:{value:t.imgSrc,callback:function(e){t.imgSrc=e},expression:"imgSrc"}})],1)],1)],1)])])},v=[],h=(s("c975"),s("c973")),C=s.n(h),$={name:"ImageSelector",data:function(){return{tab:this.isBase64(this.src)?"base64":"url",imgSrc:this.src,base64Temp:this.src}},props:{src:String,label:String,reset:String,title:String},model:{prop:"src",event:"onChangeEvent"},watch:{tab(t,e){"url"===t&&this.isBase64(this.imgSrc)?(this.base64Temp=this.imgSrc,this.imgSrc=""):"base64"===t&&0===this.imgSrc.length&&(this.imgSrc=this.base64Temp)}},computed:{isSrcBase64(){return this.isBase64(this.imgSrc)}},methods:{onChangeEvent(){this.$emit("onChangeEvent",this.imgSrc)},isBase64(t){return-1!=t.indexOf("data:")&&-1!=t.indexOf("base64")},changeFile(){this.$refs.fileInput.click()},onFileChangeEvent(t){var e=this;return C()((function*(){let s=yield e.$file.readFile(t.target.files[0],"dataurl");e.imgSrc=s,e.onChangeEvent()}))()}}},x=$,y=s("068f"),S=s("429b"),k=s("7460"),q=s("adad"),w=s("823b"),L=s("27f9"),V=Object(r["a"])(x,f,v,!1,null,"3d08fb3e",null),_=V.exports;d()(V,"components",{QImg:y["a"],QBtn:u["a"],QTabs:S["a"],QTab:k["a"],QTabPanels:q["a"],QTabPanel:w["a"],QInput:L["a"]});var E={name:"Settings",components:{ImageSelector:_,NumberStepper:b},data:function(){return{tab:"live",settings:null}},watch:{settings:{handler:function(t,e){this.$store.commit("settings/updateSettings",t)},deep:!0},"settings.language":{handler:function(t){this.$i18n.locale=t;try{s("c4e9")(`./${this.$settings.langIsoList[t]||t}.js`).then(t=>{this.$q.lang.set(t.default)})}catch(e){}}}},computed:{skinList:{get(){let t=[];return this.$settings.skinList.forEach(e=>{t.push({label:this.$t("settings.skins."+e),value:e})}),t}},soundList:{get(){let t=[];return this.$settings.soundList.forEach(e=>{t.push({label:this.$t("settings.skins."+e),value:e})}),t}},backgroundList:{get(){let t=[];return this.$settings.backgroundList.forEach(e=>{t.push({label:this.$t("settings.skins."+e),value:e})}),t}},languageList:{get(){let t=[];return this.$settings.languageList.forEach(e=>{t.push({label:this.$settings.languageName[e],value:e})}),t}},proxyList:{get(){let t=[];return this.$settings.proxyList.forEach(e=>{t.push({label:this.$t("settings.proxys."+e.label),value:e})}),t}}},methods:{goBack(){this.$router.go(-1)},clear(){const t=this;this.$q.dialog({title:this.$t("btns.LABEL_CLEAR"),message:this.$t("settings.clearConfirm"),cancel:!0,persistent:!0}).onOk(()=>{t.$q.localStorage.remove("settings"),t.$q.localStorage.remove("notification"),t.$q.localStorage.remove("favorite"),t.$q.localStorage.remove("history"),t.$q.localStorage.remove("upperHiddenBoard"),this.$router.go(0)})},onResetBgm(){this.settings.bgm={src:"sound/bgm/before_live.mp3",cover:"img/before_live.jpg",title:"ライブしよう!",artist:"BanG Dream!",offset:0,timePoints:[{bpm:140,time:0}]},this.$audio.fadeOutPause(()=>{this.$audio.setDefaultAudio(),this.$audio.play()})}},mounted(){this.settings=this.$store.getters["settings/settings"]}},B=E,O=s("9989"),Q=s("f09f"),I=s("9564"),N=s("c1d0"),T=s("ddd8"),A=Object(r["a"])(B,a,i,!1,null,"bcb6b16e",null);e["default"]=A.exports;d()(A,"components",{QPage:O["a"],QBtn:u["a"],QCard:Q["a"],QTabs:S["a"],QTab:k["a"],QTabPanels:q["a"],QTabPanel:w["a"],QToggle:I["a"],QSlider:N["a"],QSelect:T["a"]})}}]);