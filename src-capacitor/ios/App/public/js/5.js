(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{"8b24":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{staticClass:"flex flex-center"},[a("transition",{attrs:{appear:"","appear-active-class":"animated fadeInDown"}},[a("div",{staticClass:"absolute-top-right q-ma-sm text-caption text-grey"},[t._v("\n      BanG Player App v"+t._s(t.version)+"\n    ")])]),a("div",{staticClass:"container",staticStyle:{"margin-top":"30px"}},[a("div",{staticClass:"row q-col-gutter-md justify-center"},[a("transition",{attrs:{appear:"","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"}},[a("div",{staticClass:"col-xs-12 col-sm-6 col-md-8 self-center text-center sgm"},[a("div",{staticClass:"row q-col-gutter-lg justify-center"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"}),a("div",{class:"col-auto "+(t.displayMenu?"":"cursor-pointer"),on:{click:t.doDisplayMenu}},[a("music-circle",{attrs:{src:"img/index.png",size:t.displayMenu?208:256,"max-scale":1.08,offset:t.bgm.offset,"time-points":t.bgm.timePoints,time:t.$audio.currentTime,"wave-width":20,"wave-color":"#FFA4CF","wave-max-scale":1.12}})],1),a("div",{staticClass:"col"})])]),t.displayMenu?a("div",{staticClass:"col-12"},[a("transition",{attrs:{appear:"","appear-active-class":"animated fadeInDown"}},[a("div",{staticClass:"row q-col-gutter-md"},[a("div",{key:"title",staticClass:"col-12 text-h3"},[t._v("BanG Player")]),a("div",{key:"subtitle",staticClass:"col-12 text-body1"},[t._v(t._s(t.$t("index.subtitle")))])])])],1):t._e()])])]),t.displayMenu?a("div",{staticClass:"col-xs-12 col-sm-6 col-md-4 txjlcyj self-center"},[a("div",{staticClass:"col-xs-12"},[a("div",{staticClass:"row q-col-gutter-md"},[a("div",{staticClass:"col-12"},[a("transition",{attrs:{appear:"","appear-active-class":"animated fadeInLeft"}},[a("q-btn",{staticClass:"full-width",attrs:{color:"primary","no-caps":"",label:t.$t("btns.LABEL_OFFICIAL")},on:{click:function(e){return t.doPush("/official")}}})],1)],1),a("div",{staticClass:"col-12"},[a("transition",{attrs:{appear:"","appear-active-class":"animated fadeInLeft"}},[a("q-btn",{staticClass:"full-width",attrs:{color:"secondary","no-caps":"",label:t.$t("btns.LABEL_BESTDORI")},on:{click:function(e){return t.doPush("/bestdori")}}})],1)],1),a("div",{staticClass:"col-6"},[a("transition",{attrs:{appear:"","appear-active-class":"animated fadeInLeft"}},[a("q-btn",{staticClass:"full-width",attrs:{color:"primary","no-caps":"",label:t.$t("btns.LABEL_LOCAL")},on:{click:function(e){return t.doPush("/local")}}})],1)],1),a("div",{staticClass:"col-6"},[a("transition",{attrs:{appear:"","appear-active-class":"animated fadeInLeft"}},[a("q-btn",{staticClass:"full-width",attrs:{color:"pink","no-caps":"",label:t.$t("btns.LABEL_FAVORITE")},on:{click:function(e){return t.doPush("/favorite")}}})],1)],1),a("div",{staticClass:"col-6"},[a("transition",{attrs:{appear:"","appear-active-class":"animated fadeInLeft"}},[a("q-btn",{staticClass:"full-width",attrs:{color:"primary","no-caps":"",label:t.$t("btns.LABEL_SETTINGS")},on:{click:function(e){return t.doPush("/settings")}}})],1)],1),a("div",{staticClass:"col-6"},[a("transition",{attrs:{appear:"","appear-active-class":"animated fadeInLeft"}},[a("div",{staticClass:"relative-position"},[a("q-btn",{staticClass:"full-width",attrs:{color:"primary","no-caps":"",label:t.$t("btns.LABEL_NOTIFICATION")},on:{click:function(e){return t.doPush("/notification")}}}),t.$store.getters["notification/hasNew"]?a("q-badge",{attrs:{color:"red",floating:"","text-color":"white"}},[t._v("\n                    "+t._s(t.$store.getters["notification/hasNew"])+"\n                  ")]):t._e()],1)])],1),a("div",{staticClass:"col-12"},[a("transition",{attrs:{appear:"","appear-active-class":"animated fadeInLeft"}},[a("q-btn",{staticClass:"full-width",attrs:{color:"primary","no-caps":"",label:t.$t("btns.LABEL_WIKI")},on:{click:function(e){return t.doPush("/wiki")}}})],1)],1)])])]):t._e()],1)])],1)},i=[],r=a("c973"),n=a.n(r),o=a("9224"),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"relative-position",style:"width: "+t.realSize+"; height: "+t.realSize},[a("div",{ref:"wave",staticClass:"absolute-top-left",style:"border: "+t.realWaveWidth+" solid "+t.waveColor+"; border-radius: 50%; height: "+t.realSize+"; width: "+t.realSize}),a("div",{ref:"title"},[a("q-img",{style:"width: "+t.realSize+"; height: "+t.realSize+";",attrs:{src:t.src,"placeholder-src":t.src},scopedSlots:t._u([{key:"loading",fn:function(){return[a("div")]},proxy:!0}])})],1)])])},c=[],d=a("ded3"),p=a.n(d),u={name:"MusicCircle",props:{src:{type:String},size:{default:"64px"},waveWidth:{default:"10px"},waveColor:{type:String,default:"primary"},time:{default:0},timePoints:{type:Array},offset:{type:Number,default:0},maxScale:{type:Number,default:1.05},waveMaxScale:{type:Number,default:1.05}},data:function(){return{actionTimer:null,realTime:"function"===typeof this.realTime?this.time():this.time}},computed:{realSize:{get(){return this.propToSize(this.size)}},realWaveWidth:{get(){return this.propToSize(this.waveWidth)}}},methods:{propToSize(t){if("number"===typeof t)return t+"px";if("string"!==typeof t)return"64px";switch(t){case"xs":return"16px";case"sm":return"24px";case"md":return"32px";case"lg":return"48px";case"xl":return"64px";default:return t}},currentTimePoint(){if(this.timePoints&&this.timePoints.length>=0)for(const t in this.timePoints){let e=Number.parseInt(t);if(this.realTime>=this.timePoints[e].time&&(!this.timePoints[e+1]||this.realTime<this.timePoints[e+1].time))return p()({time:0,bpm:0},this.timePoints[e])}return p()({time:0,bpm:0},this.timePoints[0])}},mounted(){this.actionTimer=setInterval(()=>{const t=this.$refs.title,e=this.$refs.wave;this.time?this.realTime="function"===typeof this.realTime?this.time():this.time:this.realTime=0;const a=this.realTime,s=this.currentTimePoint();if(t){const i=1+(a+this.offset-s.time)%(60/s.bpm)/(60/s.bpm)*(this.maxScale-1);t.style.transform=`scale(${i}) rotate(${10*-a}deg)`,e.style.transform=`scale(${i*this.waveMaxScale})`,e.style.opacity=1-(i-1)/(this.maxScale-1)}},16)},beforeDestroy(){clearInterval(this.actionTimer)}},m=u,f=a("2877"),h=a("068f"),v=a("eebe"),b=a.n(v),g=Object(f["a"])(m,l,c,!1,null,"1579222c",null),y=g.exports;b()(g,"components",{QImg:h["a"]});var w={name:"PageIndex",components:{MusicCircle:y},data:function(){return{displayMenu:!1}},computed:{bgm:{get(){return this.$settings.get("bgm")}},version:{get(){return o.version}}},methods:{doDisplayMenu(){this.displayMenu||(this.$sound.tap(),this.displayMenu=!0)},doPush(t){var e=this;return n()((function*(){e.$sound.tap(),e.$q.loading.show(),yield e.$router.push(t),e.$q.loading.hide()}))()}},mounted(){this.$audio.play()}},x=w,C=a("9989"),P=a("9c40"),I=a("58a8"),S=Object(f["a"])(x,s,i,!1,null,null,null);e["default"]=S.exports;b()(S,"components",{QPage:C["a"],QBtn:P["a"],QBadge:I["a"]})},9224:function(t){t.exports=JSON.parse('{"name":"bang_player_v2","version":"2.0.2","description":"A BanG Dream! Girl\'s Band Party web simulator","productName":"BanG Player v2","author":"ReiKohaku <hbsjzjwj@163.com>","private":true,"scripts":{"lint":"eslint --ext .js,.vue ./","test":"echo \\"No test specified\\" && exit 0"},"dependencies":{"@quasar/extras":"^1.0.0","axios":"^0.18.1","bangbangboom-game":"git+https://gitee.com/ReiKohaku/bangbangboom-game.git","bangbangboom-game-dev":"git://github.com/K024/bangbangboom-game.git","core-js":"^3.6.5","howler":"^2.2.0","jszip":"^3.5.0","quasar":"^1.0.0","showdown":"^1.9.1","vue-i18n":"^8.0.0"},"devDependencies":{"@quasar/app":"^2.0.0","@quasar/icongenie":"^2.3.1","babel-eslint":"^10.0.1","eslint":"^6.8.0","eslint-config-prettier":"^6.9.0","eslint-loader":"^3.0.3","eslint-plugin-vue":"^6.1.2","workbox-webpack-plugin":"^5.0.0"},"browserslist":["last 10 Chrome versions","last 10 Firefox versions","last 4 Edge versions","last 7 Safari versions","last 8 Android versions","last 8 ChromeAndroid versions","last 8 FirefoxAndroid versions","last 10 iOS versions","last 5 Opera versions"],"engines":{"node":">= 10.18.1","npm":">= 6.13.4","yarn":">= 1.21.1"}}')}}]);